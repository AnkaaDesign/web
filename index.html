<!doctype html>
<html lang="pt-BR">
  <head>
    <meta charset="UTF-8" />

    <!-- Security Headers -->
    <meta http-equiv="X-Content-Type-Options" content="nosniff" />
    <meta http-equiv="Referrer-Policy" content="strict-origin-when-cross-origin" />

    <!-- App Icons and Manifest -->
    <link rel="icon" type="image/x-icon" href="/favicon.ico" sizes="16x16 32x32 48x48" />
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png" />
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png" />
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png" />
    <link rel="manifest" href="/site.webmanifest" />

    <!-- Viewport and App Configuration -->
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="theme-color" content="#22c55e" />
    <meta name="description" content="Ankaa - Sistema de Gestão Industrial Brasileiro" />
    <meta name="keywords" content="gestão, industrial, manufatura, brasil, ankaa" />
    <meta name="author" content="Ankaa Systems" />

    <!-- Prevent browser translation and password saving for security -->
    <meta name="google" content="notranslate" />
    <meta name="format-detection" content="telephone=no" />

    <!-- Inter font is now self-hosted via @fontsource-variable/inter for offline support -->

    <!-- Set API URL BEFORE any modules load to prevent QueryClient initialization errors -->
    <script>
      (function() {
        var h = window.location.hostname;
        var envUrl = "%VITE_API_URL%";
        // Extract port from the env URL (e.g. "http://192.168.0.11:3030" → "3030")
        var port = "3030";
        try { var m = envUrl.match(/:(\d{4,5})(?:\/|$)/); if (m) port = m[1]; } catch(e) {}
        // LAN access: API runs on the same machine, use the browser's hostname
        if (h.indexOf("192.168.") === 0 || h.indexOf("10.") === 0 || /^172\.(1[6-9]|2\d|3[01])\./.test(h)) {
          window.__ANKAA_API_URL__ = "http://" + h + ":" + port;
        } else {
          // Localhost or production: use the env var
          window.__ANKAA_API_URL__ = envUrl;
        }
      })();
    </script>

    <title>Ankaa Design</title>
  </head>
  <body>
    <div id="root"></div>
    <script type="module" src="/src/main.tsx"></script>
  </body>
</html>
